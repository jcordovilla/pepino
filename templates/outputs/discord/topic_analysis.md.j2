## 🎯 Enhanced Topic Analysis{% if channel_name %} in #{{ channel_name }}{% else %} across all channels{% endif %}

**📊 Analysis Summary:**
• Messages Analyzed: {{ message_count | format_number }}
• Analysis Method: {% if "bertopic_modeling" in capabilities_used %}Hybrid BERTopic + spaCy{% else %}Standard Analysis{% endif %}
{% if days %}• Time Period: {{ days }} days{% endif %}
{% if "bertopic_modeling" in capabilities_used %}• Neural Model: all-mpnet-base-v2 (Transformer){% endif %}

{% if topics and topics | length > 0 -%}
**🧠 Neural Topics Discovered:**
{% for topic in topics[:8] -%}
{% if topic.topic -%}
{{ loop.index }}. **{{ topic.topic }}** ({{ topic.frequency }} messages, {{ (topic.relevance_score * 100) | round(1) }}% relevance)
{% endif -%}
{% endfor -%}

{% if _domain_analysis -%}
**🔬 Domain Analysis:**

{% if _domain_analysis.technical_terms -%}
**🔧 Technical Discussions:**
{% for term, count in (_domain_analysis.technical_terms.items() | list)[:6] -%}
• **{{ term.upper() }}**: {{ count }} discussions
{% endfor -%}
{% endif -%}

{% if _domain_analysis.business_concepts -%}
**💼 Business Concepts:**
{% for concept, count in (_domain_analysis.business_concepts.items() | list)[:6] -%}
• **{{ concept | title }}**: {{ count }} mentions
{% endfor -%}
{% endif -%}

{% if _domain_analysis.key_discussions -%}
**💬 Key Discussion Themes:**
{% for theme, count in (_domain_analysis.key_discussions.items() | list)[:5] -%}
• **{{ theme }}**: {{ count }} mentions
{% endfor -%}
{% endif -%}

{% if _domain_analysis.emerging_topics -%}
**🚀 Emerging Topics:**
{% for concept, frequency, ratio in _domain_analysis.emerging_topics[:5] -%}
• **{{ concept | title }}** ({{ frequency }} recent mentions, {{ ratio | round(1) }}x trend)
{% endfor -%}
{% endif -%}
{% endif -%}

{% else -%}
❌ No significant topics found in the analyzed messages.

**💡 Possible reasons:**
• Messages may be too brief or fragmented
• Conversations lack thematic clustering
• Mixed topics prevent clear pattern identification
• Insufficient data for meaningful analysis

**🔍 Suggestions:**
• Try analyzing a longer time period
• Look for channels with more focused discussions
• Consider channels with longer, detailed conversations
{% endif %}

---
*Enhanced by neural topic modeling + domain-specific analysis* 